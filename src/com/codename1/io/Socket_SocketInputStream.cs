// Automatically generated by xmlvm2csharp (do not edit).

using org.xmlvm;
namespace com.codename1.io {
public class Socket_2SocketInputStream: global::java.io.InputStream {
private global::java.lang.Object _fimpl;

private global::org.xmlvm._nArrayAdapter<sbyte> _fbuffer;

private int _fbufferOffset;

private global::com.codename1.io.SocketConnection _fcon;

private bool _fclosed;

public void @this(global::java.lang.Object n1, global::com.codename1.io.SocketConnection n2){
//XMLVM_BEGIN_WRAPPER[com.codename1.io.Socket$SocketInputStream: void <init>(java.lang.Object, com.codename1.io.SocketConnection)]
    global::org.xmlvm._nElement _r0;
    global::System.Object _r0_o = null;
    global::org.xmlvm._nElement _r1;
    global::System.Object _r1_o = null;
    global::org.xmlvm._nElement _r2;
    global::System.Object _r2_o = null;
    global::org.xmlvm._nExceptionAdapter _ex = null;
    _r0_o = this;
    _r1_o = n1;
    _r2_o = n2;
    ((global::java.io.InputStream) _r0_o).@this();
    ((global::com.codename1.io.Socket_2SocketInputStream) _r0_o)._fimpl = (global::java.lang.Object) _r1_o;
    ((global::com.codename1.io.Socket_2SocketInputStream) _r0_o)._fcon = (global::com.codename1.io.SocketConnection) _r2_o;
    return;
//XMLVM_END_WRAPPER[com.codename1.io.Socket$SocketInputStream: void <init>(java.lang.Object, com.codename1.io.SocketConnection)]
}

public override bool markSupported(){
//XMLVM_BEGIN_WRAPPER[com.codename1.io.Socket$SocketInputStream: boolean markSupported()]
    global::org.xmlvm._nElement _r0;
    global::System.Object _r0_o = null;
    global::org.xmlvm._nElement _r1;
    global::System.Object _r1_o = null;
    global::org.xmlvm._nExceptionAdapter _ex = null;
    _r1_o = this;
    _r0.i = 0;
    return _r0.i!=0;
//XMLVM_END_WRAPPER[com.codename1.io.Socket$SocketInputStream: boolean markSupported()]
}

public override void reset(){
//XMLVM_BEGIN_WRAPPER[com.codename1.io.Socket$SocketInputStream: void reset()]
    global::org.xmlvm._nElement _r0;
    global::System.Object _r0_o = null;
    global::org.xmlvm._nExceptionAdapter _ex = null;
    _r0_o = this;
    global::System.Threading.Monitor.Enter(_r0_o);
    global::System.Threading.Monitor.Exit(_r0_o);
    return;
//XMLVM_END_WRAPPER[com.codename1.io.Socket$SocketInputStream: void reset()]
}

public override void close(){
//XMLVM_BEGIN_WRAPPER[com.codename1.io.Socket$SocketInputStream: void close()]
    global::org.xmlvm._nElement _r0;
    global::System.Object _r0_o = null;
    global::org.xmlvm._nElement _r1;
    global::System.Object _r1_o = null;
    global::org.xmlvm._nElement _r2;
    global::System.Object _r2_o = null;
    global::org.xmlvm._nExceptionAdapter _ex = null;
    _r2_o = this;
    _r0.i = 1;
    ((global::com.codename1.io.Socket_2SocketInputStream) _r2_o)._fclosed = 0!=_r0.i;
    _r0_o = global::com.codename1.io.Util.getImplementation();
    _r1_o = ((global::com.codename1.io.Socket_2SocketInputStream) _r2_o)._fimpl;
    _r0.i = ((global::com.codename1.impl.CodenameOneImplementation) _r0_o).isSocketConnected((global::java.lang.Object) _r1_o) ? 1 : 0;
    if (_r0.i == 0) goto label30;
    _r0_o = global::com.codename1.io.Util.getImplementation();
    _r1_o = ((global::com.codename1.io.Socket_2SocketInputStream) _r2_o)._fimpl;
    ((global::com.codename1.impl.CodenameOneImplementation) _r0_o).disconnectSocket((global::java.lang.Object) _r1_o);
    _r0_o = ((global::com.codename1.io.Socket_2SocketInputStream) _r2_o)._fcon;
    _r1.i = 0;
    ((global::com.codename1.io.SocketConnection) _r0_o).setConnected(0!=_r1.i);
    label30:;
    return;
//XMLVM_END_WRAPPER[com.codename1.io.Socket$SocketInputStream: void close()]
}

public override int available(){
//XMLVM_BEGIN_WRAPPER[com.codename1.io.Socket$SocketInputStream: int available()]
    global::org.xmlvm._nElement _r0;
    global::System.Object _r0_o = null;
    global::org.xmlvm._nElement _r1;
    global::System.Object _r1_o = null;
    global::org.xmlvm._nElement _r2;
    global::System.Object _r2_o = null;
    global::org.xmlvm._nExceptionAdapter _ex = null;
    _r2_o = this;
    _r0_o = global::com.codename1.io.Util.getImplementation();
    _r1_o = ((global::com.codename1.io.Socket_2SocketInputStream) _r2_o)._fimpl;
    _r0.i = ((global::com.codename1.impl.CodenameOneImplementation) _r0_o).getSocketAvailableInput((global::java.lang.Object) _r1_o);
    return _r0.i;
//XMLVM_END_WRAPPER[com.codename1.io.Socket$SocketInputStream: int available()]
}

private void throwEOF(){
//XMLVM_BEGIN_WRAPPER[com.codename1.io.Socket$SocketInputStream: void throwEOF()]
    global::org.xmlvm._nElement _r0;
    global::System.Object _r0_o = null;
    global::org.xmlvm._nElement _r1;
    global::System.Object _r1_o = null;
    global::org.xmlvm._nExceptionAdapter _ex = null;
    _r1_o = this;
    _r0.i = ((global::com.codename1.io.Socket_2SocketInputStream) _r1_o)._fclosed ? 1 : 0;
    if (_r0.i == 0) goto label10;
    _r0_o = new global::java.io.EOFException();
    ((global::java.io.EOFException) _r0_o).@this();
    throw new global::org.xmlvm._nExceptionAdapter((global::java.io.EOFException) _r0_o);
    label10:;
    return;
//XMLVM_END_WRAPPER[com.codename1.io.Socket$SocketInputStream: void throwEOF()]
}

public override int read(global::org.xmlvm._nArrayAdapter<sbyte> n1, int n2, int n3){
//XMLVM_BEGIN_WRAPPER[com.codename1.io.Socket$SocketInputStream: int read(byte[], int, int)]
    global::org.xmlvm._nElement _r0;
    global::System.Object _r0_o = null;
    global::org.xmlvm._nElement _r1;
    global::System.Object _r1_o = null;
    global::org.xmlvm._nElement _r2;
    global::System.Object _r2_o = null;
    global::org.xmlvm._nElement _r3;
    global::System.Object _r3_o = null;
    global::org.xmlvm._nElement _r4;
    global::System.Object _r4_o = null;
    global::org.xmlvm._nElement _r5;
    global::System.Object _r5_o = null;
    global::org.xmlvm._nElement _r6;
    global::System.Object _r6_o = null;
    global::org.xmlvm._nElement _r7;
    global::System.Object _r7_o = null;
    global::org.xmlvm._nElement _r8;
    global::System.Object _r8_o = null;
    global::org.xmlvm._nElement _r9;
    global::System.Object _r9_o = null;
    global::org.xmlvm._nElement _r10;
    global::System.Object _r10_o = null;
    global::org.xmlvm._nElement _r11;
    global::System.Object _r11_o = null;
    global::org.xmlvm._nElement _r12;
    global::System.Object _r12_o = null;
    global::org.xmlvm._nExceptionAdapter _ex = null;
    _r9_o = this;
    _r10_o = n1;
    _r11.i = n2;
    _r12.i = n3;
    _r8_o = null;
    _r7.i = -1;
    ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o).throwEOF();
    _r3.i = 10;
    label7:;
    _r4_o = ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o)._fbuffer;
    if (_r4_o != null) goto label52;
    _r4_o = global::com.codename1.io.Util.getImplementation();
    _r5_o = ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o)._fimpl;
    _r4_o = ((global::com.codename1.impl.CodenameOneImplementation) _r4_o).readFromSocketStream((global::java.lang.Object) _r5_o);
    ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o)._fbuffer = (global::org.xmlvm._nArrayAdapter<sbyte>) _r4_o;
    _r4.i = 0;
    ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o)._fbufferOffset = _r4.i;
    _r4_o = ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o)._fbuffer;
    if (_r4_o != null) goto label7;
    _r4_o = global::com.codename1.io.Util.getImplementation();
    _r5_o = ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o)._fimpl;
    _r4.i = ((global::com.codename1.impl.CodenameOneImplementation) _r4_o).isSocketConnected((global::java.lang.Object) _r5_o) ? 1 : 0;
    if (_r4.i == 0) goto label7;
    if (_r3.i <= 0) goto label7;
    _r4.l = 10L;
    try {
    global::java.lang.Thread.sleep((long) _r4.l);
    }
    catch (global::System.Exception e) {
 global::org.xmlvm._nExceptionAdapter ex = e as global::org.xmlvm._nExceptionAdapter ?? new global::org.xmlvm._nExceptionAdapter(e.ToString(), e.ToJavaException());
        global::System.Object _java_exception = ex.getJavaException();
        if (_java_exception is global::java.lang.InterruptedException) {
            _ex = ex;
            goto label134;
        }
        throw ex;
    } // end catch
    label49:;
    _r3.i = _r3.i + -1;
    goto label7;
    label52:;
    _r4_o = ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o)._fbuffer;
    _r4.i = ((global::org.xmlvm._nIArray) _r4_o).Length;
    _r5.i = ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o)._fbufferOffset;
    if (_r4.i != _r5.i) goto label69;
    ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o)._fbuffer = (global::org.xmlvm._nArrayAdapter<sbyte>) _r8_o;
    _r2.i = ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o).read((global::org.xmlvm._nArrayAdapter<sbyte>) _r10_o, (int) _r11.i, (int) _r12.i);
    if (_r2.i >= 0) goto label69;
    _r4.i = _r7.i;
    label68:;
    return _r4.i;
    label69:;
    _r0.i = 0;
    _r1.i = 0;
    label71:;
    if (_r1.i >= _r12.i) goto label132;
    _r4.i = _r11.i + _r1.i;
    _r5_o = ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o)._fbuffer;
    _r6.i = ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o)._fbufferOffset;
    _r5.i = ((global::org.xmlvm._nArrayAdapter<sbyte>) _r5_o)[_r6.i];
    ((global::org.xmlvm._nArrayAdapter<sbyte>) _r10_o)[_r4.i] = (sbyte)_r5.i;
    _r4.i = ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o)._fbufferOffset;
    _r4.i = _r4.i + 1;
    ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o)._fbufferOffset = _r4.i;
    _r0.i = _r0.i + 1;
    _r4_o = ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o)._fbuffer;
    _r4.i = ((global::org.xmlvm._nIArray) _r4_o).Length;
    _r5.i = ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o)._fbufferOffset;
    if (_r4.i != _r5.i) goto label129;
    ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o)._fbuffer = (global::org.xmlvm._nArrayAdapter<sbyte>) _r8_o;
    _r4.i = ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o).available();
    if (_r4.i != 0) goto label110;
    if (_r0.i <= 0) goto label110;
    _r4.i = _r0.i;
    goto label68;
    label110:;
    _r4.i = _r11.i + _r1.i;
    _r5.i = _r12.i - _r1.i;
    _r2.i = ((global::com.codename1.io.Socket_2SocketInputStream) _r9_o).read((global::org.xmlvm._nArrayAdapter<sbyte>) _r10_o, (int) _r4.i, (int) _r5.i);
    if (_r2.i >= 0) goto label126;
    if (_r0.i != 0) goto label124;
    _r4.i = _r7.i;
    goto label68;
    label124:;
    _r4.i = _r0.i;
    goto label68;
    label126:;
    _r4.i = _r0.i + _r2.i;
    goto label68;
    label129:;
    _r1.i = _r1.i + 1;
    goto label71;
    label132:;
    _r4.i = _r0.i;
    goto label68;
    label134:;
    _r4_o = _ex.getJavaException();
    _ex = null;
    goto label49;
//XMLVM_END_WRAPPER[com.codename1.io.Socket$SocketInputStream: int read(byte[], int, int)]
}

public override int read(global::org.xmlvm._nArrayAdapter<sbyte> n1){
//XMLVM_BEGIN_WRAPPER[com.codename1.io.Socket$SocketInputStream: int read(byte[])]
    global::org.xmlvm._nElement _r0;
    global::System.Object _r0_o = null;
    global::org.xmlvm._nElement _r1;
    global::System.Object _r1_o = null;
    global::org.xmlvm._nElement _r2;
    global::System.Object _r2_o = null;
    global::org.xmlvm._nElement _r3;
    global::System.Object _r3_o = null;
    global::org.xmlvm._nExceptionAdapter _ex = null;
    _r2_o = this;
    _r3_o = n1;
    ((global::com.codename1.io.Socket_2SocketInputStream) _r2_o).throwEOF();
    _r0.i = 0;
    _r1.i = ((global::org.xmlvm._nIArray) _r3_o).Length;
    _r0.i = ((global::com.codename1.io.Socket_2SocketInputStream) _r2_o).read((global::org.xmlvm._nArrayAdapter<sbyte>) _r3_o, (int) _r0.i, (int) _r1.i);
    return _r0.i;
//XMLVM_END_WRAPPER[com.codename1.io.Socket$SocketInputStream: int read(byte[])]
}

public override int read(){
//XMLVM_BEGIN_WRAPPER[com.codename1.io.Socket$SocketInputStream: int read()]
    global::org.xmlvm._nElement _r0;
    global::System.Object _r0_o = null;
    global::org.xmlvm._nElement _r1;
    global::System.Object _r1_o = null;
    global::org.xmlvm._nElement _r2;
    global::System.Object _r2_o = null;
    global::org.xmlvm._nElement _r3;
    global::System.Object _r3_o = null;
    global::org.xmlvm._nElement _r4;
    global::System.Object _r4_o = null;
    global::org.xmlvm._nExceptionAdapter _ex = null;
    _r4_o = this;
    _r3.i = -1;
    ((global::com.codename1.io.Socket_2SocketInputStream) _r4_o).throwEOF();
    _r2.i = 1;
    _r0_o = new global::org.xmlvm._nArrayAdapter<sbyte>(new sbyte[_r2.i]);
    _r1.i = ((global::com.codename1.io.Socket_2SocketInputStream) _r4_o).read((global::org.xmlvm._nArrayAdapter<sbyte>) _r0_o);
    if (_r1.i != _r3.i) goto label15;
    _r2.i = _r3.i;
    label14:;
    return _r2.i;
    label15:;
    _r2.i = 0;
    _r2.i = ((global::org.xmlvm._nArrayAdapter<sbyte>) _r0_o)[_r2.i];
    _r2.i = _r2.i & 255;
    goto label14;
//XMLVM_END_WRAPPER[com.codename1.io.Socket$SocketInputStream: int read()]
}

//XMLVM_BEGIN_WRAPPER[com.codename1.io.Socket$SocketInputStream]
//XMLVM_END_WRAPPER[com.codename1.io.Socket$SocketInputStream]

} // end of class: Socket_2SocketInputStream

} // end of namespace: com.codename1.io
